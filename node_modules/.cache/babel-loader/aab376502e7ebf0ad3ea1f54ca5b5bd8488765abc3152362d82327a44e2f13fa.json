{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Account=()=>{const[formData,setFormData]=useState({name:'',email:'',password:'',confirmPassword:''});const[message,setMessage]=useState('');const[successMessage,setSuccessMessage]=useState('');const[bookings,setBookings]=useState([]);// State for bookings\nconst[favorites,setFavorites]=useState([]);// State for favorites\nconst[editBooking,setEditBooking]=useState(null);// State for editing a booking\nconst[bookingForm,setBookingForm]=useState({date:'',time:'',party_size:1});// Booking form state\nconst navigate=useNavigate();useEffect(()=>{const fetchUserData=async()=>{const token=localStorage.getItem('token');if(!token){setMessage('You must be logged in to access this page.');navigate('/login');return;}try{// Fetch user details\nconst userResponse=await fetch('/api/account',{headers:{Authorization:`Bearer ${token}`}});if(!userResponse.ok){throw new Error('Failed to fetch account details.');}const userData=await userResponse.json();setFormData({name:userData.name,email:userData.email});// Fetch bookings\nconst bookingsResponse=await fetch('/api/bookings',{headers:{Authorization:`Bearer ${token}`}});if(!bookingsResponse.ok){throw new Error('Failed to fetch bookings.');}const bookingsData=await bookingsResponse.json();setBookings(bookingsData);// Fetch favorites\nconst favoritesResponse=await fetch('/api/favorites',{headers:{Authorization:`Bearer ${token}`}});if(!favoritesResponse.ok){throw new Error('Failed to fetch favorites.');}const favoritesData=await favoritesResponse.json();setFavorites(favoritesData);}catch(error){setMessage(error.message);}};fetchUserData();},[navigate]);const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleUpdate=async e=>{e.preventDefault();setMessage('');setSuccessMessage('');if(formData.password&&formData.password!==formData.confirmPassword){setMessage('Passwords do not match.');return;}const token=localStorage.getItem('token');if(!token){setMessage('You must be logged in to update your account.');return;}try{const response=await fetch('/api/account',{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${token}`},body:JSON.stringify(formData)});if(!response.ok){throw new Error('Failed to update account.');}setSuccessMessage('Account updated successfully!');}catch(error){setMessage(error.message);}};const handleDelete=async()=>{const token=localStorage.getItem('token');if(!token){setMessage('You must be logged in to delete your account.');return;}const confirmed=window.confirm('Are you sure you want to delete your account? This action cannot be undone.');if(!confirmed)return;try{const response=await fetch('/api/account',{method:'DELETE',headers:{Authorization:`Bearer ${token}`}});if(!response.ok){throw new Error('Failed to delete account.');}localStorage.removeItem('token');localStorage.removeItem('userName');navigate('/');}catch(error){setMessage(error.message);}};const handleLogout=()=>{localStorage.removeItem('token');localStorage.removeItem('userName');navigate('/login');};const handleEditBooking=booking=>{setEditBooking(booking);setBookingForm({date:booking.date,time:booking.time,party_size:booking.party_size});};const handleUpdateBooking=async e=>{e.preventDefault();const token=localStorage.getItem('token');if(!token){setMessage('You must be logged in to update bookings.');return;}try{const response=await fetch(`/api/bookings/${editBooking.id}`,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${token}`},body:JSON.stringify(bookingForm)});if(!response.ok){throw new Error('Failed to update booking.');}const updatedBookings=bookings.map(b=>b.id===editBooking.id?{...editBooking,...bookingForm}:b);setBookings(updatedBookings);setEditBooking(null);setSuccessMessage('Booking updated successfully!');}catch(error){setMessage(error.message);}};const handleDeleteBooking=async bookingId=>{const token=localStorage.getItem('token');if(!token){setMessage('You must be logged in to delete bookings.');return;}const confirmed=window.confirm('Are you sure you want to delete this booking?');if(!confirmed)return;try{const response=await fetch(`/api/bookings/${bookingId}`,{method:'DELETE',headers:{Authorization:`Bearer ${token}`}});if(!response.ok){throw new Error('Failed to delete booking.');}setBookings(bookings.filter(b=>b.id!==bookingId));setSuccessMessage('Booking deleted successfully!');}catch(error){setMessage(error.message);}};const handleAddToFavorites=async itemId=>{const token=localStorage.getItem('token');if(!token){setMessage('You must be logged in to add favorites.');return;}try{const response=await fetch('/api/favorites',{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${token}`},body:JSON.stringify({itemId})});if(!response.ok){throw new Error('Failed to add to favorites.');}const newFavorite=await response.json();setFavorites([...favorites,newFavorite]);setSuccessMessage('Added to favorites!');}catch(error){setMessage(error.message);}};const handleRemoveFromFavorites=async itemId=>{const token=localStorage.getItem('token');if(!token){setMessage('You must be logged in to remove favorites.');return;}try{const response=await fetch(`/api/favorites/${itemId}`,{method:'DELETE',headers:{Authorization:`Bearer ${token}`}});if(!response.ok){throw new Error('Failed to remove from favorites.');}setFavorites(favorites.filter(item=>item.id!==itemId));setSuccessMessage('Removed from favorites!');}catch(error){setMessage(error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"account-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"account-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Account\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-button\",children:\"Logout\"})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:message}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:successMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdate,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange,placeholder:\"Email\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange,placeholder:\"New Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleChange,placeholder:\"Confirm New Password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Account\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"logout-button\",children:\"Delete Account\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"favorites-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Favorites\"}),favorites.length>0?favorites.map(favorite=>/*#__PURE__*/_jsxs(\"div\",{className:\"favorite-item\",children:[/*#__PURE__*/_jsx(\"p\",{children:favorite.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveFromFavorites(favorite.id),className:\"btn-delete\",children:\"Remove from Favorites\"})]},favorite.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No favorites added yet.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bookings-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Bookings\"}),bookings.length>0?bookings.map(booking=>/*#__PURE__*/_jsxs(\"div\",{className:\"booking-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"booking-info\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"booking-date\",children:[\"Date: \",new Date(booking.date).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{className:\"booking-time\",children:[\"Time: \",booking.time]}),/*#__PURE__*/_jsxs(\"p\",{className:\"booking-guests\",children:[\"Guests: \",booking.party_size]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditBooking(booking),className:\"btn-edit\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteBooking(booking.id),className:\"btn-delete\",children:\"Delete\"})]})]},booking.id)):/*#__PURE__*/_jsx(\"p\",{children:\"No bookings available.\"}),editBooking&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdateBooking,className:\"edit-booking-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Booking\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:bookingForm.date,onChange:e=>setBookingForm({...bookingForm,date:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:\"time\",value:bookingForm.time,onChange:e=>setBookingForm({...bookingForm,time:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"party_size\",value:bookingForm.party_size,onChange:e=>setBookingForm({...bookingForm,party_size:parseInt(e.target.value,10)}),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Update Booking\"})]})]})]});};export default Account;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Account","formData","setFormData","name","email","password","confirmPassword","message","setMessage","successMessage","setSuccessMessage","bookings","setBookings","favorites","setFavorites","editBooking","setEditBooking","bookingForm","setBookingForm","date","time","party_size","navigate","fetchUserData","token","localStorage","getItem","userResponse","fetch","headers","Authorization","ok","Error","userData","json","bookingsResponse","bookingsData","favoritesResponse","favoritesData","error","handleChange","e","target","value","handleUpdate","preventDefault","response","method","body","JSON","stringify","handleDelete","confirmed","window","confirm","removeItem","handleLogout","handleEditBooking","booking","handleUpdateBooking","id","updatedBookings","map","b","handleDeleteBooking","bookingId","filter","handleAddToFavorites","itemId","newFavorite","handleRemoveFromFavorites","item","className","children","onClick","onSubmit","type","onChange","placeholder","required","length","favorite","Date","toLocaleDateString","parseInt"],"sources":["/Users/jjom/Documents/frankies_restaurant/src/components/Account.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst Account = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: '',\n  });\n  const [message, setMessage] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const [bookings, setBookings] = useState([]); // State for bookings\n  const [favorites, setFavorites] = useState([]); // State for favorites\n  const [editBooking, setEditBooking] = useState(null); // State for editing a booking\n  const [bookingForm, setBookingForm] = useState({ date: '', time: '', party_size: 1 }); // Booking form state\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchUserData = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setMessage('You must be logged in to access this page.');\n        navigate('/login');\n        return;\n      }\n\n      try {\n        // Fetch user details\n        const userResponse = await fetch('/api/account', {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n\n        if (!userResponse.ok) {\n          throw new Error('Failed to fetch account details.');\n        }\n\n        const userData = await userResponse.json();\n        setFormData({ name: userData.name, email: userData.email });\n\n        // Fetch bookings\n        const bookingsResponse = await fetch('/api/bookings', {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n\n        if (!bookingsResponse.ok) {\n          throw new Error('Failed to fetch bookings.');\n        }\n\n        const bookingsData = await bookingsResponse.json();\n        setBookings(bookingsData);\n\n        // Fetch favorites\n        const favoritesResponse = await fetch('/api/favorites', {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n\n        if (!favoritesResponse.ok) {\n          throw new Error('Failed to fetch favorites.');\n        }\n\n        const favoritesData = await favoritesResponse.json();\n        setFavorites(favoritesData);\n\n      } catch (error) {\n        setMessage(error.message);\n      }\n    };\n\n    fetchUserData();\n  }, [navigate]);\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    setMessage('');\n    setSuccessMessage('');\n\n    if (formData.password && formData.password !== formData.confirmPassword) {\n      setMessage('Passwords do not match.');\n      return;\n    }\n\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setMessage('You must be logged in to update your account.');\n      return;\n    }\n\n    try {\n      const response = await fetch('/api/account', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update account.');\n      }\n\n      setSuccessMessage('Account updated successfully!');\n    } catch (error) {\n      setMessage(error.message);\n    }\n  };\n\n  const handleDelete = async () => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setMessage('You must be logged in to delete your account.');\n      return;\n    }\n\n    const confirmed = window.confirm('Are you sure you want to delete your account? This action cannot be undone.');\n    if (!confirmed) return;\n\n    try {\n      const response = await fetch('/api/account', {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to delete account.');\n      }\n\n      localStorage.removeItem('token');\n      localStorage.removeItem('userName');\n      navigate('/');\n    } catch (error) {\n      setMessage(error.message);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('userName');\n    navigate('/login');\n  };\n\n  const handleEditBooking = (booking) => {\n    setEditBooking(booking);\n    setBookingForm({ date: booking.date, time: booking.time, party_size: booking.party_size });\n  };\n\n  const handleUpdateBooking = async (e) => {\n    e.preventDefault();\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setMessage('You must be logged in to update bookings.');\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/bookings/${editBooking.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(bookingForm),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update booking.');\n      }\n\n      const updatedBookings = bookings.map((b) =>\n        b.id === editBooking.id ? { ...editBooking, ...bookingForm } : b\n      );\n\n      setBookings(updatedBookings);\n      setEditBooking(null);\n      setSuccessMessage('Booking updated successfully!');\n    } catch (error) {\n      setMessage(error.message);\n    }\n  };\n\n  const handleDeleteBooking = async (bookingId) => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setMessage('You must be logged in to delete bookings.');\n      return;\n    }\n\n    const confirmed = window.confirm('Are you sure you want to delete this booking?');\n    if (!confirmed) return;\n\n    try {\n      const response = await fetch(`/api/bookings/${bookingId}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to delete booking.');\n      }\n\n      setBookings(bookings.filter((b) => b.id !== bookingId));\n      setSuccessMessage('Booking deleted successfully!');\n    } catch (error) {\n      setMessage(error.message);\n    }\n  };\n\n  const handleAddToFavorites = async (itemId) => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setMessage('You must be logged in to add favorites.');\n      return;\n    }\n\n    try {\n      const response = await fetch('/api/favorites', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ itemId }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to add to favorites.');\n      }\n\n      const newFavorite = await response.json();\n      setFavorites([...favorites, newFavorite]);\n      setSuccessMessage('Added to favorites!');\n    } catch (error) {\n      setMessage(error.message);\n    }\n  };\n\n  const handleRemoveFromFavorites = async (itemId) => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setMessage('You must be logged in to remove favorites.');\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/favorites/${itemId}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to remove from favorites.');\n      }\n\n      setFavorites(favorites.filter((item) => item.id !== itemId));\n      setSuccessMessage('Removed from favorites!');\n    } catch (error) {\n      setMessage(error.message);\n    }\n  };\n\n  return (\n    <div className=\"account-page\">\n      <div className=\"account-header\">\n        <h1>My Account</h1>\n        <button onClick={handleLogout} className=\"logout-button\">\n          Logout\n        </button>\n      </div>\n      {message && <p className=\"error-message\">{message}</p>}\n      {successMessage && <p className=\"success-message\">{successMessage}</p>}\n\n      {/* Account Update Form */}\n      <form onSubmit={handleUpdate}>\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={formData.name}\n          onChange={handleChange}\n          placeholder=\"Name\"\n          required\n        />\n        <input\n          type=\"email\"\n          name=\"email\"\n          value={formData.email}\n          onChange={handleChange}\n          placeholder=\"Email\"\n          required\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={formData.password}\n          onChange={handleChange}\n          placeholder=\"New Password\"\n        />\n        <input\n          type=\"password\"\n          name=\"confirmPassword\"\n          value={formData.confirmPassword}\n          onChange={handleChange}\n          placeholder=\"Confirm New Password\"\n        />\n        <button type=\"submit\">Update Account</button>\n      </form>\n\n      <button onClick={handleDelete} className=\"logout-button\">Delete Account</button>\n\n      {/* Favorites Section */}\n      <div className=\"favorites-section\">\n        <h2>Your Favorites</h2>\n        {favorites.length > 0 ? (\n          favorites.map((favorite) => (\n            <div key={favorite.id} className=\"favorite-item\">\n              <p>{favorite.name}</p>\n              <button onClick={() => handleRemoveFromFavorites(favorite.id)} className=\"btn-delete\">\n                Remove from Favorites\n              </button>\n            </div>\n          ))\n        ) : (\n          <p>No favorites added yet.</p>\n        )}\n      </div>\n\n      {/* Bookings Management */}\n      <div className=\"bookings-section\">\n        <h2>Your Bookings</h2>\n        {bookings.length > 0 ? (\n          bookings.map((booking) => (\n            <div key={booking.id} className=\"booking-item\">\n              <div className=\"booking-info\">\n                <p className=\"booking-date\">Date: {new Date(booking.date).toLocaleDateString()}</p>\n                <p className=\"booking-time\">Time: {booking.time}</p>\n                <p className=\"booking-guests\">Guests: {booking.party_size}</p>\n              </div>\n              <div className=\"actions\">\n                <button onClick={() => handleEditBooking(booking)} className=\"btn-edit\">Edit</button>\n                <button onClick={() => handleDeleteBooking(booking.id)} className=\"btn-delete\">Delete</button>\n              </div>\n            </div>\n          ))\n        ) : (\n          <p>No bookings available.</p>\n        )}\n\n        {editBooking && (\n          <form onSubmit={handleUpdateBooking} className=\"edit-booking-form\">\n            <h3>Edit Booking</h3>\n            <input\n              type=\"date\"\n              name=\"date\"\n              value={bookingForm.date}\n              onChange={(e) => setBookingForm({ ...bookingForm, date: e.target.value })}\n              required\n            />\n            <input\n              type=\"time\"\n              name=\"time\"\n              value={bookingForm.time}\n              onChange={(e) => setBookingForm({ ...bookingForm, time: e.target.value })}\n              required\n            />\n            <input\n              type=\"number\"\n              name=\"party_size\"\n              value={bookingForm.party_size}\n              onChange={(e) => setBookingForm({ ...bookingForm, party_size: parseInt(e.target.value, 10) })}\n              required\n            />\n            <button type=\"submit\">Update Booking</button>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Account;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}