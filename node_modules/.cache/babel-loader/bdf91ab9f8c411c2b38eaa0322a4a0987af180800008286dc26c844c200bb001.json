{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){const[searchQuery,setSearchQuery]=useState('');const[userName,setUserName]=useState(null);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(token){const fetchUserData=async()=>{try{const response=await fetch('/api/account',{headers:{Authorization:`Bearer ${token}`}});if(response.ok){const data=await response.json();setUserName(data.name);}}catch(error){console.error('Error fetching user data:',error);}};fetchUserData();}},[]);const handleSearchChange=event=>{setSearchQuery(event.target.value);};const handleAccountClick=()=>{navigate('/account');};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-light bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/logo.png\",alt:\"Frankie's Logo\",height:\"50\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"search-bar\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",value:searchQuery,onChange:handleSearchChange})}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav ms-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/menu\",children:\"Menu\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/booking\",children:\"Booking\"})}),userName&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link nav-link account-button\",onClick:handleAccountClick,type:\"button\",children:userName})})]})})]})});}export default Navbar;","map":{"version":3,"names":["React","useState","Link","jsx","_jsx","jsxs","_jsxs","Navbar","searchQuery","setSearchQuery","userName","setUserName","navigate","useNavigate","useEffect","token","localStorage","getItem","fetchUserData","response","fetch","headers","Authorization","ok","data","json","name","error","console","handleSearchChange","event","target","value","handleAccountClick","className","children","to","src","alt","height","type","placeholder","onChange","id","onClick"],"sources":["/Users/jjom/Documents/frankies_restaurant/src/components/Navbar.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\n\nfunction Navbar() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [userName, setUserName] = useState(null); \n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      const fetchUserData = async () => {\n        try {\n          const response = await fetch('/api/account', {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          });\n          if (response.ok) {\n            const data = await response.json();\n            setUserName(data.name);\n          }\n        } catch (error) {\n          console.error('Error fetching user data:', error);\n        }\n      };\n      fetchUserData();\n    }\n  }, []);\n\n  const handleSearchChange = (event) => {\n    setSearchQuery(event.target.value);\n  };\n\n  const handleAccountClick = () => {\n    navigate('/account'); \n  };\n\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n      <div className=\"container\">\n        <Link className=\"navbar-brand\" to=\"/\">\n          <img src=\"/assets/logo.png\" alt=\"Frankie's Logo\" height=\"50\" />\n        </Link>\n\n        <div className=\"search-bar\">\n          <input\n            type=\"text\"\n            placeholder=\"Search...\"\n            value={searchQuery}\n            onChange={handleSearchChange}\n          />\n        </div>\n\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul className=\"navbar-nav ms-auto\">\n            <li className=\"nav-item\">\n              <Link className=\"nav-link\" to=\"/\">Home</Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link className=\"nav-link\" to=\"/menu\">Menu</Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link className=\"nav-link\" to=\"/login\">Login</Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link className=\"nav-link\" to=\"/booking\">Booking</Link>\n            </li>\n            {userName && (\n              <li className=\"nav-item\">\n                <button\n                  className=\"btn btn-link nav-link account-button\"\n                  onClick={handleAccountClick}\n                  type=\"button\"\n                >\n                  {userName}\n                </button>\n              </li>\n            )}\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}